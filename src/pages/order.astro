---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';


---

<Layout title="Order Your Healing Device | Anywhere Healing">
	<Header />
	
	<!-- Product Selection Section -->
	<section class="product-hero">
		<div class="container">
			<!-- Product Tabs -->
			<div class="product-tabs">
				<button class="tab-button active" data-product="alpha">Alpha Wearable</button>
				<button class="tab-button" data-product="charisma">Charisma Ring</button>
				<button class="tab-button" data-product="alpha-charisma">Alpha + Charisma</button>
				<button class="tab-button" data-product="frequana">Frequana</button>
				<button class="tab-button" data-product="bundle">Complete Bundle</button>
			</div>

			<!-- Product Display -->
			<div class="product-display">
				<!-- Product Images -->
				<div class="product-images">
					<div class="main-image">
						<img id="main-product-image" src="/alpha-main.jpg" alt="Alpha Wearable">
					</div>
					<div class="thumbnail-grid" id="thumbnail-grid">
						<img class="thumbnail active" src="/alpha-main.jpg" alt="Alpha Main" data-main="/alpha-main.jpg">
						<img class="thumbnail" src="/alpha-alt1.webp" alt="Alpha Alt 1" data-main="/alpha-alt1.webp">
						<img class="thumbnail" src="/alpha-alt2.jpg" alt="Alpha Alt 2" data-main="/alpha-alt2.jpg">
						<img class="thumbnail" src="/alpha-alt3.jpg" alt="Alpha Alt 3" data-main="/alpha-alt3.jpg">
					</div>
				</div>

				<!-- Product Info -->
				<div class="product-info">
					<div class="product-content active" data-product="alpha">
						<h1>Alpha Wearable + App Subscription</h1>
						<div class="price-section">
							<span class="current-price">$399</span>
							<span class="original-price">$499</span>
							<span class="savings">Save $100</span>
						</div>
						
						<div class="product-description">
							<p>Experience the future of natural healing with our revolutionary Alpha Wearable. This cutting-edge device uses advanced bioresonance technology to scan your body's frequencies and deliver targeted vibrations that support your natural healing processes.</p>
						</div>

						<div class="key-benefits">
							<div class="benefit-item">
								<img src="/check.svg" alt="Check">
								<span>Sleep aid, anxiety, depression relief</span>
							</div>
							<div class="benefit-item">
								<img src="/check.svg" alt="Check">
								<span>Bioresonance therapy technology</span>
							</div>
							<div class="benefit-item">
								<img src="/check.svg" alt="Check">
								<span>Boosts energy and promotes balance</span>
							</div>
							<div class="benefit-item">
								<img src="/check.svg" alt="Check">
								<span>Works in harmony with your body</span>
							</div>
						</div>

						<div class="purchase-section">
							
							<button class="buy-button primary shopify-add-item"
							data-variant-id="51670303506616"
							data-product-title="Alpha Wearable + App Subscription"
							data-price="399.00">
							Order Alpha Wearable - $399
							</button>

							<p class="guarantee">30-day money-back guarantee</p>
						</div>
					</div>

					<div class="product-content" data-product="charisma">
						<h1>Charisma Ring</h1>
						<div class="price-section">
							<span class="current-price">$199</span>
						</div>
						
						<div class="product-description">
							<p>The Charisma Ring combines elegance with advanced frequency technology. Designed for daily wear, it continuously supports your well-being through gentle frequency therapy that enhances focus, reduces stress, and promotes natural energy.</p>
						</div>

						<div class="key-benefits">
							<div class="benefit-item">
								<img src="/check.svg" alt="Check">
								<span>Sleep aid, anxiety through frequencies</span>
							</div>
							<div class="benefit-item">
								<img src="/check.svg" alt="Check">
								<span>Smart technology integration</span>
							</div>
							<div class="benefit-item">
								<img src="/check.svg" alt="Check">
								<span>Tracks sleep, stress, and energy</span>
							</div>
							<div class="benefit-item">
								<img src="/check.svg" alt="Check">
								<span>Improves focus and natural energy</span>
							</div>
						</div>

						<div class="purchase-section">
							
							<button class="buy-button primary shopify-add-item"
							data-variant-id="51670404956344" 
							data-product-title="Charisma Ring"
							data-price="199.00">
							Order Charisma Ring - $199
							</button>

							<p class="guarantee">30-day money-back guarantee</p>
						</div>
					</div>


				<div class="product-content" data-product="alpha-charisma">
					<h1>Alpha + Charisma Bundle</h1>
					<div class="price-section">
						<span class="current-price">$399</span>
					</div>
					
					<div class="product-description">
						<p>The perfect combination for enhanced frequency therapy. The Charisma Ring amplifies the Alpha Wearable's power, delivering effective results in just 60 seconds. Experience brain massage-like sensations, optimal oxygen levels, clear energy with focus, and the best night's sleep you'll wake up refreshed from.</p>
					</div>

					<div class="key-benefits">
						<div class="benefit-item">
							<img src="/check.svg" alt="Check">
							<span>Enhanced frequency therapy amplification</span>
						</div>
						<div class="benefit-item">
							<img src="/check.svg" alt="Check">
							<span>60-second brain massage sensation</span>
						</div>
						<div class="benefit-item">
							<img src="/check.svg" alt="Check">
							<span>Optimal brain oxygen levels & clear energy</span>
						</div>
						<div class="benefit-item">
							<img src="/check.svg" alt="Check">
							<span>Sleep, stress & HRV tracking included</span>
						</div>
					</div>

					<div class="purchase-section">
						<button class="buy-button primary shopify-add-item"
						data-variant-id="51670385066616"
						data-product-title="Alpha Wearable + App Subscription"
						data-price="399.00">
						Order Alpha + Charisma - $499
						</button>

						<p class="guarantee">30-day money-back guarantee</p>
					</div>
				</div>




					<div class="product-content" data-product="frequana">
						<h1>Frequana</h1>
						<div class="price-section">
							<span class="current-price">$400</span>
						</div>
						
						<div class="product-description">
							<p>Frequana represents the next generation of frequency healing technology. This powerful device offers comprehensive wellness support through advanced electromagnetic signatures that restore natural balance and promote cellular regeneration.</p>
						</div>

						<div class="key-benefits">
							<div class="benefit-item">
								<img src="/check.svg" alt="Check">
								<span>Next generation, more powerful technology</span>
							</div>
							<div class="benefit-item">
								<img src="/check.svg" alt="Check">
								<span>Non-invasive, drug-free approach</span>
							</div>
							<div class="benefit-item">
								<img src="/check.svg" alt="Check">
								<span>Promotes detoxification and wellness</span>
							</div>
							<div class="benefit-item">
								<img src="/check.svg" alt="Check">
								<span>Advanced biofield technology</span>
							</div>
						</div>

						<div class="purchase-section">
							
							<button class="buy-button primary shopify-add-item"
							data-variant-id="51670420717752"
							data-product-title="Frequana"
							data-price="649.00">
							Order Frequana - $649
							</button>


							<p class="guarantee">30-day money-back guarantee</p>
						</div>
					</div>

					<div class="product-content" data-product="bundle">
						<h1>Complete Healing Bundle</h1>
						<div class="price-section">
							<span class="current-price">$499</span>
							<span class="original-price">$998</span>
							<span class="savings-bundle">Save $499</span>
						</div>
						
						<div class="product-description">
							<p>Get the complete healing experience with all three devices. The perfect combination for comprehensive wellness support, targeting every aspect of your health journey from sleep and energy to focus and recovery.</p>
						</div>

						<div class="bundle-includes">
							<h4>Bundle Includes:</h4>
							<div class="bundle-item">
								<strong>Alpha Wearable</strong> - Advanced bioresonance therapy
							</div>
							<div class="bundle-item">
								<strong>Charisma Ring</strong> - Elegant daily frequency support
							</div>
							<div class="bundle-item">
								<strong>Frequana</strong> - Next-gen healing technology
							</div>
						</div>

						<div class="purchase-section">
							
							<button class="buy-button primary bundle shopify-add-item"
							data-variant-id="51670504407224"
							data-product-title="Complete Healing Bundle"
							data-price="949.00">
							Order Complete Bundle - $949
							</button>


							<p class="guarantee">30-day money-back guarantee + FREE shipping</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Product Details Tabs -->
	<section class="product-details">
		<div class="container">
			<div class="details-tabs">
				<button class="detail-tab active" data-tab="description">Description</button>
				<button class="detail-tab" data-tab="specifications">Specifications</button>
				<button class="detail-tab" data-tab="how-it-works">How It Works</button>
				<button class="detail-tab" data-tab="shipping">Shipping & Returns</button>
			</div>

			<div class="details-content">
				<div class="detail-panel active" data-panel="description">
					<h3>Revolutionary Frequency Healing Technology</h3>
					<p>Our devices use cutting-edge bioresonance technology to identify and correct frequency imbalances in your body. Each device scans your natural biofield and delivers precise therapeutic frequencies that support your body's innate healing abilities.</p>
					
					<div class="comprehensive-info">
						<div class="info-grid">
							<div class="info-card">
								<div class="feature-icon-mini2">📈</div>
								<h5>Initial Results</h5>
								<p>Most users experience mild improvements within just a few hours of first use.</p>
							</div>
							<div class="info-card">
								<div class="feature-icon-mini2">📋​</div>
								<h5>Complete Results</h5>
								<p>For optimal results, we recommend continuous use for 4-8 weeks.</p>
							</div>
							<div class="info-card">
								<div class="feature-icon-mini2">💙</div>
								<h5>App Features</h5>
								<p>Our platform offers 10 different health topic programs tailored to your specific needs.</p>
							</div>
							<div class="info-card">
								<div class="feature-icon-mini2">📊</div>
								<h5>Health Statistics</h5>
								<p>Over 21% of adults suffer from chronic pain, and 50-70% experience sleep disorders.</p>
							</div>
							<div class="info-card">
								<div class="feature-icon-mini2">😴</div>
								<h5>Better Sleep</h5>
								<p>Fall asleep faster and enjoy deeper, more restorative sleep cycles.</p>
							</div>
							<div class="info-card">
								<div class="feature-icon-mini2">🔆</div>
								<h5>Natural Energy</h5>
								<p>Boost your energy levels without stimulants or side effects.</p>
							</div>
							<div class="info-card">
								<div class="feature-icon-mini2">🌬️</div>
								<h5>Mental Clarity</h5>
								<p>Enhance focus, reduce brain fog, and improve cognitive function.</p>
							</div>
							<div class="info-card">
								<div class="feature-icon-mini2">😄</div>
								<h5>Overall Wellness</h5>
								<p>Support your body's natural balance and healing processes.</p>
							</div>
						</div>
					</div>
				</div>

				<div class="detail-panel" data-panel="specifications">
					<h3>Technical Specifications</h3>
					<div class="specs-grid">
						<div class="spec-category">
							<h4>Alpha Wearable</h4>
							<ul>
								<li>Charging Time: 90 Minutes</li>
								<li>Battery Life: 6 Hours</li>
								<li>Connectivity: Bluetooth 5.0</li>
								<li>Compatibility: iOS and Android</li>
								<li>Weight: 300g</li>
								<li>Materials: Medical-grade silicone</li>
							</ul>
						</div>
						<div class="spec-category">
							<h4>Charisma Ring</h4>
							<ul>
								<li>Frequency Range: 1 Hz to 10 kHz</li>
								<li>Battery Life: 5-7 days</li>
								<li>Sizes: 6-12 available</li>
								<li>Materials: Titanium with ceramic coating</li>
								<li>Weight: 8g</li>
								<li>Water Resistance: IPX5</li>
							</ul>
						</div>
						<div class="spec-category">
							<h4>Frequana</h4>
							<ul>
								<li>Frequency Range: 0.01 Hz to 100 kHz</li>
								<li>Power Source: AC adapter</li>
								<li>Connectivity: WiFi, Bluetooth</li>
								<li>Dimensions: 8" x 6" x 2"</li>
								<li>Weight: 2.1 lbs</li>
								<li> </li>
							</ul>
						</div>
					</div>
				</div>

				<div class="detail-panel" data-panel="how-it-works">
					<h3>The Science Behind Frequency Healing</h3>
					<div class="process-steps">
						<div class="step">
							<div class="step-number">1</div>
							<div class="step-content">
								<h4>Biofield Scanning</h4>
								<p>The device scans your body's natural electromagnetic field to identify frequency imbalances and areas of stress or dysfunction.</p>
							</div>
						</div>
						<div class="step">
							<div class="step-number">2</div>
							<div class="step-content">
								<h4>Frequency Analysis</h4>
								<p>Advanced algorithms analyze the scan results and determine the optimal therapeutic frequencies needed to restore balance.</p>
							</div>
						</div>
						<div class="step">
							<div class="step-number">3</div>
							<div class="step-content">
								<h4>Targeted Delivery</h4>
								<p>Precise frequencies are delivered to specific areas through gentle vibrations that penetrate at the cellular level.</p>
							</div>
						</div>
						<div class="step">
							<div class="step-number">4</div>
							<div class="step-content">
								<h4>Natural Healing</h4>
								<p>Your body responds by naturally realigning its frequencies, promoting healing, balance, and optimal function.</p>
							</div>
						</div>
					</div>
				</div>

				<div class="detail-panel" data-panel="shipping">
					<h3>Shipping & Returns Information</h3>
					<div class="shipping-info">
						<div class="shipping-option">
							<h4>Fast Order Processing</h4>
							<p>Orders are processed within 1-3 business days.</p>
						</div>
						<div class="shipping-option">
							<h4>Fast Shipping</h4>
							<p>Shipping times vary by location, typically ranging from 3-7 business days.</p>
						</div>
						<div class="shipping-option">
							<h4>Tracking Number</h4>
							<p>You will receive a tracking number once your order has shipped so you can monitor its progress.</p>
						</div>
					</div>
					
					<div class="return-policy">
						<h4>30-Day Money-Back Guarantee</h4>
						<p>Not satisfied? Return your device within 30 days for a full refund. Items must be in original condition with all accessories included.</p>
					</div>
				</div>
			</div>
		</div>
	</section>

<!-- Testimonials Section -->
<section class="testimonials-section">
	<div class="container">
		<div class="testimonials-content">
			<h2>Real Testimonials from Our Users</h2>
			<p class="testimonials-subtitle">Authentic experiences from people who have transformed their wellbeing</p>
			
			<div class="testimonials-grid">
				<div class="testimonial-card">
					<div class="testimonial-header">
						<div class="user-info">
							<div class="user-avatar">S</div>
							<div class="user-details">
								<h4>Sarah Johnson</h4>
								<span>Verified ✓</span>
							</div>
						</div>
						<div class="rating">★★★★★</div>
					</div>
					<p>"After using the Alpha Wearable for 3 weeks, my sleep quality improved enormously. I used to wake up 4-5 times per night, now I sleep deeply and wake up energized."</p>
					<div class="testimonial-footer">
						<span class="product-used">Alpha Wearable</span>
						<span class="time-used">3 weeks of use</span>
					</div>
				</div>

				<div class="testimonial-card">
					<div class="testimonial-header">
						<div class="user-info">
							<div class="user-avatar">M</div>
							<div class="user-details">
								<h4>Michael Thompson</h4>
								<span>Verified ✓</span>
							</div>
						</div>
						<div class="rating">★★★★★</div>
					</div>
					<p>"My anxiety has decreased significantly since I started using the Charisma Ring. It's incredible how something so small can have such a big impact on my mental and emotional state."</p>
					<div class="testimonial-footer">
						<span class="product-used">Charisma Ring</span>
						<span class="time-used">6 weeks of use</span>
					</div>
				</div>

				<div class="testimonial-card">
					<div class="testimonial-header">
						<div class="user-info">
							<div class="user-avatar">E</div>
							<div class="user-details">
								<h4>Emily Rodriguez</h4>
								<span>Verified ✓</span>
							</div>
						</div>
						<div class="rating">★★★★★</div>
					</div>
					<p>"Frequana changed my life. I had been struggling with chronic pain for years. After 2 months of constant use, the pain decreased by 80%. It's as if my body remembered how to heal itself."</p>
					<div class="testimonial-footer">
						<span class="product-used">Frequana</span>
						<span class="time-used">2 months of use</span>
					</div>
				</div>

				<div class="testimonial-card">
					<div class="testimonial-header">
						<div class="user-info">
							<div class="user-avatar">D</div>
							<div class="user-details">
								<h4>David Miller</h4>
								<span>Verified ✓</span>
							</div>
						</div>
						<div class="rating">★★★★★</div>
					</div>
					<p>"I bought the complete bundle and it has been the best investment in my health. My energy increased, I sleep better and my concentration at work improved noticeably. I recommend it 100%."</p>
					<div class="testimonial-footer">
						<span class="product-used">Complete Bundle</span>
						<span class="time-used">4 months of use</span>
					</div>
				</div>

				<div class="testimonial-card">
					<div class="testimonial-header">
						<div class="user-info">
							<div class="user-avatar">J</div>
							<div class="user-details">
								<h4>Jessica Williams</h4>
								<span>Verified ✓</span>
							</div>
						</div>
						<div class="rating">★★★★★</div>
					</div>
					<p>"I was skeptical at first, but the results speak for themselves. My stress level dropped considerably and I have a general sense of wellbeing that I hadn't experienced in years."</p>
					<div class="testimonial-footer">
						<span class="product-used">Alpha Wearable</span>
						<span class="time-used">5 weeks of use</span>
					</div>
				</div>

				<div class="testimonial-card">
					<div class="testimonial-header">
						<div class="user-info">
							<div class="user-avatar">R</div>
							<div class="user-details">
								<h4>Robert Anderson</h4>
								<span>Verified ✓</span>
							</div>
						</div>
						<div class="rating">★★★★★</div>
					</div>
					<p>"After trying multiple treatments for my insomnia, the Alpha Wearable was the only thing that actually worked. Now I sleep 7-8 continuous hours and feel renewed every morning."</p>
					<div class="testimonial-footer">
						<span class="product-used">Alpha Wearable</span>
						<span class="time-used">8 weeks of use</span>
					</div>
				</div>
			</div>

			<div class="trust-stats">
				<div class="stat">
					<span class="stat-number">4,561</span>
					<span class="stat-label">Satisfied Customers</span>
				</div>
				<div class="stat">
					<span class="stat-number">95%</span>
					<span class="stat-label">Satisfaction Rate</span>
				</div>
				<div class="stat">
					<span class="stat-number">10+</span>
					<span class="stat-label">Cities Reached</span>
				</div>
				<div class="stat">
					<span class="stat-number">879</span>
					<span class="stat-label">App Downloads</span>
				</div>
			</div>
			
			<div class="certifications">
				<div class="cert-item">
					<img src="/check.svg" alt="FDA">
					<span>No Pills, Frequency Healing</span>
				</div>
				<div class="cert-item">
					<img src="/check.svg" alt="Clinical">
					<span>Restore Natural Balance</span>
				</div>
				<div class="cert-item">
					<img src="/check.svg" alt="Safe">
					<span>Feel Energized, Live Fully</span>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Botón del carrito flotante -->
<button class="shopify-checkout" id="cart-button" style="position:fixed;bottom:20px;left:20px;z-index:1000;">
	🛒 Cart (<span class="shopify-cart-count">0</span>)
</button>

	<Footer />
</Layout>

<style lang="scss">

	
// Optimized CSS - Removed animations and transitions for faster loading
.product-hero {
	padding: 120px 0 80px;
	background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);

	.product-tabs {
		display: flex;
		justify-content: center;
		margin-bottom: 60px;
		border-bottom: 2px solid #e2e8f0;

		.tab-button {
  position: relative;
  background: none;
  border: none;
  padding: 40px 15px;
  color: #666;
  cursor: pointer;
  font-weight: 600;
  font-size: 1.2rem;
  font-weight: 600;
}

.tab-button.active {
  color: #2596be;
}

.tab-button.active::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 60%;  /* Ajusta ancho de línea */
  height: 3px;  /* Grosor línea */
  background-color: #2596be;
  border-radius: 2px;
}

	}

	.product-display {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 80px;
		align-items: start;
	}

	.product-images {
		.main-image {

			margin-bottom: 20px;

			img {
				width: 100%;
				height: 400px;
				object-fit: cover;
				border-radius: 20px;
			}
		}

		#thumbnail-grid {
	display: flex !important;
	flex-wrap: wrap !important;
	gap: 12px !important;
	align-items: flex-start !important;

	img.thumbnail {
		// Dimensiones fijas y específicas
		width: 80px !important;
		height: 80px !important;
		min-width: 80px !important;
		min-height: 80px !important;
		max-width: 80px !important;
		max-height: 80px !important;
		
		// Forzar objeto cuadrado
		object-fit: cover !important;
		object-position: center !important;
		
		// Estilos visuales
		border-radius: 8px !important;
		cursor: pointer !important;
		border: 2px solid transparent !important;
		
		// Resetear estilos
		display: block !important;
		box-sizing: border-box !important;
		flex-shrink: 0 !important;
		flex-grow: 0 !important;

		&:hover {
			border-color: #2596be !important;
			transform: none !important; // Evitar animaciones
		}

		&.active {
			border-color: #2596be !important;
		}

		// NUEVAS REGLAS RESPONSIVE PARA MÓVILES
		// Tablets pequeños y móviles grandes
		@media (max-width: 768px) {
			width: 70px !important;
			height: 70px !important;
			min-width: 70px !important;
			min-height: 70px !important;
			max-width: 70px !important;
			max-height: 70px !important;
		}

		// Móviles medianos
		@media (max-width: 480px) {
			width: 60px !important;
			height: 60px !important;
			min-width: 60px !important;
			min-height: 60px !important;
			max-width: 60px !important;
			max-height: 60px !important;
		}

		// Móviles pequeños
		@media (max-width: 375px) {
			width: 55px !important;
			height: 55px !important;
			min-width: 55px !important;
			min-height: 55px !important;
			max-width: 55px !important;
			max-height: 55px !important;
		}

		// Móviles muy pequeños
		@media (max-width: 320px) {
			width: 50px !important;
			height: 50px !important;
			min-width: 50px !important;
			min-height: 50px !important;
			max-width: 50px !important;
			max-height: 50px !important;
		}
	}
}
	}

	.product-info {
		.product-content {
			display: none;

			&.active {
				display: block;
			}
		}

		h1 {
			font-size: 2.5rem;
			font-weight: 700;
			color: #1a202c;
			margin-bottom: 20px;
		}

		.price-section {
			margin-bottom: 30px;

			.current-price {
				font-size: 3rem;
				font-weight: 700;
				color: #2596be;
				margin-right: 16px;
			}

			.original-price {
				font-size: 1.5rem;
				color: #64748b;
				text-decoration: line-through;
				margin-right: 16px;
			}

			.savings, .savings-bundle {
				background: linear-gradient(135deg, #87bd42, #2596be);
				color: white;
				padding: 6px 12px;
				border-radius: 20px;
				font-size: 0.9rem;
				font-weight: 600;
			}
		}

		.product-description {
			margin-bottom: 30px;

			p {
				font-size: 1.5rem;
				line-height: 1.6;
				color: #374151;
			}
		}

		.key-benefits {
			margin-bottom: 40px;

			.benefit-item {
				display: flex;
				align-items: center;
				margin-bottom: 12px;

				img {
					width: 20px;
					height: 20px;
					margin-right: 12px;
				}

				span {
					color: #374151;
					font-weight: 500;
				}
			}
		}

		.bundle-includes {
			margin-bottom: 30px;

			h4 {
				font-size: 1.2rem;
				font-weight: 600;
				color: #1a202c;
				margin-bottom: 16px;
			}

			.bundle-item {
				background: #f8fafc;
				padding: 12px 16px;
				border-radius: 8px;
				margin-bottom: 8px;
				border-left: 4px solid #2596be;

				strong {
					color: #2596be;
				}
			}
		}

		.purchase-section {
			.buy-button {
				background: #2596be;
				color: white;
				border: none;
                padding: 0px 0px;
				border-radius: 50px;
				font-size: 1.1rem;
				font-weight: 600;
				cursor: pointer;
				width: 100%;
				margin-bottom: 16px;

				&:hover {
					background: #87bd42;
				}

				&.bundle {
					background: linear-gradient(135deg, #2596be, #87bd42);
				}
			}

			.guarantee {
				text-align: center;
				color: #64748b;
				font-size: 1.1rem;
			}
		}
	}
}

.product-details {
	padding: 80px 0;
	background: white;

	.details-tabs {
		display: flex;
		justify-content: center;
		margin-bottom: 60px;
		border-bottom: 1px solid #e2e8f0;

		.detail-tab {
			background: none;
			border: none;
			padding: 16px 24px;
			font-size: 1.1rem;
			font-weight: 500;
			color: #64748b;
			cursor: pointer;
			border-bottom: 2px solid transparent;
			padding: 35px 15px;

			&:hover {
				color: #2596be;
			}

			&.active {
				color: #2596be;
				border-bottom-color: #2596be;
			}
		}
	}

	.detail-panel {
		display: none;

		&.active {
			display: block;
		}

		h3 {
			font-size: 2.5rem;
			font-weight: 700;
			color: #1a202c;
			margin-bottom: 50px;
			text-align: center;
		}

		p {
			font-size: 1.5rem;
			line-height: 1.6;
			color: #374151;
			margin-bottom: 65px;
			text-align: center;
			max-width: 800px;
			margin-left: auto;
			margin-right: auto;
		}
	}

	.comprehensive-info {
		margin-bottom: 50px;

		.info-grid {
			display: grid;
			grid-template-columns: repeat(4, 1fr);
			gap: 25px;
			margin-bottom: 40px;

			.info-card {
				background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
				padding: 25px 20px;
				border-radius: 12px;
				text-align: center;
				border-left: 4px solid #2596be;

				img {
					width: 40px;
					height: 40px;
					margin-bottom: 12px;
					filter: invert(26%) sepia(89%) saturate(1481%) hue-rotate(184deg) brightness(94%) contrast(87%);
				}

				h5 {
					font-size: 1.5rem;
					font-weight: 600;
					color: #2596be;
					margin-bottom: 12px;
				}

				p {
					font-size: 1.2rem;
					color: #374151;
					margin: 0;
					line-height: 1.5;
				}
			}
		}
	}

	.specs-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 40px;

		.spec-category {
			h4 {
				font-size: 1.3rem;
				font-weight: 600;
				color: #2596be;
				margin-bottom: 16px;
			}

			ul {
				list-style: none;
				padding: 0;

				li {
					padding: 8px 0;
					color: #374151;
					border-bottom: 1px solid #e2e8f0;

					&:last-child {
						border-bottom: none;
					}
				}
			}
		}
	}

	.process-steps {
		max-width: 800px;
		margin: 0 auto;

		.step {
			display: flex;
			align-items: flex-start;
			margin-bottom: 40px;

			.step-number {
				width: 50px;
				height: 50px;
				background: linear-gradient(135deg, #2596be, #87bd42);
				color: white;
				border-radius: 50%;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 1.2rem;
				font-weight: 700;
				margin-right: 24px;
				flex-shrink: 0;
			}

			.step-content {
				h4 {
					font-size: 1.5rem;
					font-weight: 600;
					color: #1a202c;
					margin-bottom: 8px;
				}

				p {
					font-size: 1.35rem;
					color: #64748b;
					margin: 0;
					text-align: left;
				}
			}
		}
	}

	.shipping-info {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 30px;
		margin-bottom: 40px;

			h3 {
				margin-bottom: 450px;
			}

		.shipping-option {
			background: #f8fafc;
			padding: 24px;
			border-radius: 12px;
			border-left: 4px solid #2596be;
			
	
			h4 {
				font-size: 1.4rem;
				font-weight: 600;
				color: #1a202c;
				margin-bottom: 8px;
			}

			p {
				font-size: 1.3rem;
				color: #64748b;
				margin: 0;
				text-align: left;
			}
		}
	}

	.return-policy {
		background: linear-gradient(135deg, #2596be10, #87bd4210);
		padding: 50px 100px;
		border-radius: 16px;
		text-align: center;
		

		h4 {
			font-size: 1.6rem;
			font-weight: 600;
			color: #1a202c;
			margin-bottom: 22px;
			
		}

		p {
			margin: 0;
			text-align: center;
		}
	}
}

.testimonials-section {
	padding: 80px 0;
	background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);

	.testimonials-content {
		

		h2 {
			font-size: 3rem;
			font-weight: 700;
			color: #1a202c;
			margin-bottom: 16px;
			text-align: center;
		}

		.testimonials-subtitle {
			font-size: 1.35rem;
			color: #64748b;
			margin-bottom: 60px;
			text-align: center;
		}
	}

	.testimonials-grid {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		grid-template-rows: repeat(2, 1fr);
		gap: 30px;
		margin-bottom: 80px;
		max-width: 1200px;
		margin-left: auto;
		margin-right: auto;

		.testimonial-card {
			background: white;
			padding: 30px;
			border-radius: 16px;
			box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
			display: flex;
			flex-direction: column;
			justify-content: space-between;

			.testimonial-header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 20px;

				.user-info {
					display: flex;
					align-items: center;

					.user-avatar {
						width: 50px;
						height: 50px;
						background: linear-gradient(135deg, #2596be, #87bd42);
						color: white;
						border-radius: 50%;
						display: flex;
						align-items: center;
						justify-content: center;
						font-size: 1.2rem;
						font-weight: 700;
						margin-right: 16px;
					}

					.user-details {
						h4 {
							font-size: 1.4rem;
							font-weight: 600;
							color: #1a202c;
							margin: 0 0 4px 0;
						}

						span {
							font-size: 1rem;
							color: #2596be;
							font-weight: 500;
							
						}
					}
				}

				.rating {
					color: #ffd700;
					font-size: 1.3rem;
				}
			}

			p {
				font-size: 1.4rem;
				line-height: 1.6;
				color: #374151;
				margin-bottom: 20px;
				text-align: left;
				flex-grow: 1;
			}

			.testimonial-footer {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding-top: 16px;
				border-top: 1px solid #e2e8f0;

				.product-used {
					font-size: 1.1rem;
					font-weight: 600;
					color: #2596be;
				}

				.time-used {
					font-size: 1.1rem;
					color: #64748b;
				}
			}
		}
	}

	.trust-stats {
		display: grid;
		grid-template-columns: repeat(4, 1fr);
		gap: 40px;
		margin-bottom: 60px;
		text-align: center;

		.stat {
			.stat-number {
				display: block;
				font-size: 2.5rem;
				font-weight: 700;
				color: #2596be;
				margin-bottom: 8px;
				
			}

			.stat-label {
				font-size: 1.3rem;
				color: #64748b;
				font-weight: 500;
			}
		}
	}

	.certifications {
		display: flex;
		justify-content: center;
		gap: 60px;

		.cert-item {
			display: flex;
			flex-direction: column;
			align-items: center;

			img {
				width: 40px;
				height: 40px;
				margin-bottom: 12px;
				filter: invert(26%) sepia(89%) saturate(1481%) hue-rotate(184deg) brightness(94%) contrast(87%);
			}

			span {
				font-weight: 600;
				color: #2596be;
			}
		}
	}
}

// También ajusta el gap para pantallas más pequeñas
@media (max-width: 480px) {
	#thumbnail-grid {
		gap: 8px !important;
	}
}

@media (max-width: 320px) {
	#thumbnail-grid {
		gap: 6px !important;
	}
}

// Responsive Design

@media (max-width: 480px) {
		.product-content {
		padding: 30px;
		text-align: center;
	}

	.product-info h1 {
		font-size: 3rem !important;
	}

	.detail-panel {
		padding: 30px;
	}

.testimonials-section .testimonials-content h2 {
	font-size: 2.5rem !important;
}
	

	.testimonials-grid {
	grid-template-columns: 1fr !important;
	gap: 15px;
	margin-bottom: 40px;
}

.testimonials-section{
	padding-bottom: 90px;
}

.trust-stats{
	margin-top: 100px;
	
}

	
}

@media (max-width: 768px) {
.trust-stats{
	margin-top: 100px;
	
}

	.product-hero {
		padding: 80px 0 60px;

		.product-tabs {
			flex-wrap: wrap;
			gap: 8px;

			
		}

		.product-display {
			grid-template-columns: 1fr;
			gap: 40px;
		}

		.product-info h1 {
			font-size: 2rem;
		}

		.price-section .current-price {
			font-size: 2.5rem;
		}
	}

	.product-details {
		padding: 60px 0;

		.details-tabs {
			flex-wrap: wrap;
			gap: 8px;

			.detail-tab {
				padding: 12px 16px;
				font-size: 1.2rem;
			}
		}

		.comprehensive-info .info-grid {
			grid-template-columns: repeat(2, 1fr);
			gap: 20px;
		}

		.specs-grid {
			grid-template-columns: 1fr;
		}
	}

		.testimonials-section {
		

		.testimonials-content h2 {
			font-size: 2rem;
		}

		.testimonials-subtitle {
			font-size: 1.1rem;
			margin-bottom: 30px;
		}

		.testimonials-grid {
			grid-template-columns: 1fr;
			grid-template-rows: none;
			gap: 20px;
			margin-bottom: 40px;
		}

		.testimonial-card {
			padding: 20px;

			p {
				font-size: 1.2rem;
			}
		}

		.trust-stats {
			grid-template-columns: repeat(2, 1fr);
			gap: 20px;

			.stat-number {
				font-size: 2rem;
			}

			.stat-label {
				font-size: 1.1rem;
			}
		}

		.certifications {
			flex-direction: column;
			gap: 20px;
		}
	}


	
}

@media (max-width: 1024px) {
	.testimonials-section {
		.testimonials-grid {
			grid-template-columns: repeat(2, 1fr);
			grid-template-rows: repeat(3, 1fr);
		}
	}

	.product-details {
		.comprehensive-info .info-grid {
			grid-template-columns: repeat(2, 1fr);
		}
	}
}

.tab-button.active {
  color: #2596be;
  border-bottom: none;       /* quitamos el borde por defecto */
  position: relative;        /* para poder usar ::after posicionado */
  padding-bottom: 4px;       /* espacio para la línea */
  font-weight: 600;          /* opcional, que resalte */
}

.tab-button.active::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  height: 2px;               /* línea fina */
  width: 60%;                /* ancho más pequeño que el texto */
  background-color: #2596be; /* color azul */
  border-radius: 1px;        /* bordes redondeados para suavizar */
}

.feature-icon-mini2 {

						align-items: center;
						justify-content: center;
					
						font-size: 2.4rem;
						
						margin-bottom: 10px;
					}


.shopify-checkout {
    position: fixed;
    bottom: 20px;
    left: 20px;
    z-index: 1000;
    background: #2596be;
    color: white;
    border: none;

    border-radius: 25px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(37, 150, 190, 0.3);

    
    // Mobile positioning adjustments only
    @media (max-width: 768px) {
        bottom: 15px;
        left: 15px;
    }
    
    @media (max-width: 480px) {
        bottom: 10px;
        left: 10px;
    }

    &:hover {
        background: #1e7a9a;
        transform: translateY(-2px);
    }
}
</style>



<script>
document.addEventListener('DOMContentLoaded', function() {
	
	// Detectar si estamos en desarrollo
	const isDevelopment = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
	
	// Función para esperar a que Shopify esté listo (con timeout para desarrollo)
	function waitForShopify(callback, attempts = 0) {
		const maxAttempts = isDevelopment ? 10 : 50; // Menos intentos en desarrollo
		
		if (window.SHOPIFY_CLIENT) {
			callback();
		} else if (attempts < maxAttempts) {
			console.log('⏳ Esperando que Shopify se inicialice... Intento:', attempts + 1);
			setTimeout(() => waitForShopify(callback, attempts + 1), 100);
		} else {
			console.warn('⚠️ Shopify no se pudo inicializar, usando modo desarrollo');
			// Crear cliente mock para desarrollo
			window.SHOPIFY_CLIENT = {
				checkout: {
					create: () => Promise.resolve({ 
						id: 'dev-checkout-' + Date.now(), 
						lineItems: [],
						webUrl: 'https://1gnria-yq.myshopify.com/cart'
					}),
					addLineItems: (id, items) => Promise.resolve({ 
						id: id,
						lineItems: items.map((item, index) => ({
							...item, 
							id: 'dev-item-' + index,
							title: 'Producto de prueba',
							quantity: item.quantity || 1
						})),
						webUrl: 'https://1gnria-yq.myshopify.com/cart'
					})
				}
			};
			callback();
		}
	}

// FIXED: Mapeo de variant IDs problemáticos a Global IDs correctos
const VARIANT_ID_MAP = {
	'51670303506616': 'gid://shopify/ProductVariant/51670303506616',
	'51670404956344': 'gid://shopify/ProductVariant/51670404956344', 
	'51670385066616': 'gid://shopify/ProductVariant/51670385066616',
	'51670420717752': 'gid://shopify/ProductVariant/51670420717752',
	'51670504407224': 'gid://shopify/ProductVariant/51670504407224'
};


	// TODO EL CÓDIGO DE PRODUCTOS (mantener igual)
const productData = {
	alpha: {
		images: [
			{ src: '/alpha-main.jpg', alt: 'Alpha Main' },
			{ src: '/alpha-alt1.webp', alt: 'Alpha Alt 1' },
			{ src: '/alpha-alt2.jpg', alt: 'Alpha Alt 2' },
			{ src: '/alpha-alt3.jpg', alt: 'Alpha Alt 3' }
		]
	},
	charisma: {
		images: [
			{ src: '/charisma-main.webp', alt: 'Charisma Main' },
			{ src: '/charisma-alt1.jpg', alt: 'Charisma Alt 1' },
			{ src: '/charisma-alt2.jpg', alt: 'Charisma Alt 2' }
		]
	},
	'alpha-charisma': {
		images: [
			{ src: '/alphaandring.jpg', alt: 'Alpha + Charisma Bundle' },
			{ src: '/alpha-main.jpg', alt: 'Alpha Wearable' },
			{ src: '/charisma-main.webp', alt: 'Charisma Ring' }
		]
	},
	frequana: {
		images: [
			{ src: '/frequana-main.jpg', alt: 'Frequana Main' },
			{ src: '/frequana-alt1.jpg', alt: 'Frequana Alt 1' },
			{ src: '/frequana-alt2.png', alt: 'Frequana Alt 2' }
		]
	},
	bundle: {
		images: [
			{ src: '/pack-bundle.jpg', alt: 'Complete Bundle' },
			{ src: '/alpha-main.jpg', alt: 'Alpha Included' },
			{ src: '/charisma-main.webp', alt: 'Charisma Included' },
			{ src: '/frequana-main.jpg', alt: 'Frequana Included' }
		]
	}
};

	// Get DOM elements
	const tabButtons = document.querySelectorAll('.tab-button');
	const productContents = document.querySelectorAll('.product-content');
	const mainImage = document.getElementById('main-product-image');
	const thumbnailGrid = document.getElementById('thumbnail-grid');

	function updateProductImages(productKey) {
		const images = productData[productKey]?.images;
		
		if (!images || !mainImage || !thumbnailGrid) return;
		
		// Update main image
		mainImage.src = images[0].src;
		mainImage.alt = images[0].alt;
		
		// Clear and update thumbnail grid
		thumbnailGrid.innerHTML = '';
		
		function getThumbnailSize() {
			const width = window.innerWidth;
			if (width <= 320) return '50px';
			if (width <= 375) return '55px';
			if (width <= 480) return '60px';
			if (width <= 768) return '70px';
			return '80px';
		}
		
		function getThumbnailGap() {
			const width = window.innerWidth;
			if (width <= 320) return '6px';
			if (width <= 480) return '8px';
			return '12px';
		}
		
		images.forEach((image, index) => {
			const thumbnail = document.createElement('img');
			thumbnail.className = `thumbnail ${index === 0 ? 'active' : ''}`;
			thumbnail.src = image.src;
			thumbnail.alt = image.alt;
			thumbnail.dataset.main = image.src;
			
			const size = getThumbnailSize();
			thumbnail.style.width = size;
			thumbnail.style.height = size;
			thumbnail.style.minWidth = size;
			thumbnail.style.minHeight = size;
			thumbnail.style.maxWidth = size;
			thumbnail.style.maxHeight = size;
			thumbnail.style.objectFit = 'cover';
			thumbnail.style.borderRadius = '8px';
			thumbnail.style.cursor = 'pointer';
			thumbnail.style.border = index === 0 ? '2px solid #2596be' : '2px solid transparent';
			thumbnail.style.display = 'block';
			thumbnail.style.flexShrink = '0';
			thumbnail.style.boxSizing = 'border-box';
			
			thumbnail.addEventListener('click', function() {
				thumbnailGrid.querySelectorAll('.thumbnail').forEach(t => {
					t.classList.remove('active');
					t.style.border = '2px solid transparent';
				});
				
				this.classList.add('active');
				this.style.border = '2px solid #2596be';
				
				mainImage.src = this.dataset.main || '';
				mainImage.alt = this.alt;
			});
			
			thumbnailGrid.appendChild(thumbnail);
		});
		
		thumbnailGrid.style.display = 'flex';
		thumbnailGrid.style.gap = getThumbnailGap();
		thumbnailGrid.style.flexWrap = 'wrap';
		thumbnailGrid.style.alignItems = 'flex-start';
	}

	// Product tab switching functionality
	tabButtons.forEach(button => {
		button.addEventListener('click', function() {
			const productType = this.dataset.product;
			
			tabButtons.forEach(tab => tab.classList.remove('active'));
			this.classList.add('active');
			
			productContents.forEach(content => content.classList.remove('active'));
			
			const targetContent = document.querySelector(`.product-content[data-product="${productType}"]`);
			if (targetContent) {
				targetContent.classList.add('active');
			}
			
			updateProductImages(productType);
		});
	});

	// Detail tabs functionality
	const detailTabs = document.querySelectorAll('.detail-tab');
	const detailPanels = document.querySelectorAll('.detail-panel');

	detailTabs.forEach(tab => {
		tab.addEventListener('click', function() {
			const tabType = this.dataset.tab;
			
			detailTabs.forEach(t => t.classList.remove('active'));
			detailPanels.forEach(panel => panel.classList.remove('active'));
			
			this.classList.add('active');
			
			const targetPanel = document.querySelector(`.detail-panel[data-panel="${tabType}"]`);
			if (targetPanel) {
				targetPanel.classList.add('active');
			}
		});
	});

	// URL parameters handling
	const urlParams = new URLSearchParams(window.location.search);
	const preselectedProduct = urlParams.get('product');

	function selectProductTab(productType) {
		tabButtons.forEach(tab => tab.classList.remove('active'));
		
		const targetTab = document.querySelector(`.tab-button[data-product="${productType}"]`);
		if (targetTab) {
			targetTab.classList.add('active');
		}
		
		productContents.forEach(content => content.classList.remove('active'));
		
		const targetContent = document.querySelector(`.product-content[data-product="${productType}"]`);
		if (targetContent) {
			targetContent.classList.add('active');
		}
		
		updateProductImages(productType);
	}

	const initialProduct = preselectedProduct && ['alpha', 'charisma', 'alpha-charisma', 'frequana', 'bundle'].includes(preselectedProduct)
		? preselectedProduct 
		: 'alpha';

	selectProductTab(initialProduct);

	function handleResize() {
		const thumbnails = document.querySelectorAll('#thumbnail-grid .thumbnail');
		const thumbnailGrid = document.getElementById('thumbnail-grid');
		
		if (thumbnails.length === 0 || !thumbnailGrid) return;
		
		function getThumbnailSize() {
			const width = window.innerWidth;
			if (width <= 320) return '50px';
			if (width <= 375) return '55px';
			if (width <= 480) return '60px';
			if (width <= 768) return '70px';
			return '80px';
		}
		
		function getThumbnailGap() {
			const width = window.innerWidth;
			if (width <= 320) return '6px';
			if (width <= 480) return '8px';
			return '12px';
		}
		
		const size = getThumbnailSize();
		const gap = getThumbnailGap();
		
		thumbnails.forEach(thumbnail => {
			thumbnail.style.width = size;
			thumbnail.style.height = size;
			thumbnail.style.minWidth = size;
			thumbnail.style.minHeight = size;
			thumbnail.style.maxWidth = size;
			thumbnail.style.maxHeight = size;
		});
		
		thumbnailGrid.style.gap = gap;
	}

	let resizeTimeout;
	window.addEventListener('resize', function() {
		clearTimeout(resizeTimeout);
		resizeTimeout = setTimeout(handleResize, 150);
	});

	setTimeout(handleResize, 100);

	// ============ SHOPIFY INTEGRATION - VERSIÓN CON FALLBACK ============
	
	// Inicializar cuando Shopify esté listo O usar fallback
	waitForShopify(() => {
		// Clase para manejar carrito Shopify
class ShopifyCart {
	constructor() {
		this.checkout = null;
		this.isDev = isDevelopment && !window.SHOPIFY_CLIENT.checkout.create.toString().includes('fetch');
		this.mockCart = []; // Para modo desarrollo
		this.init();
	}

async init() {
	try {
		this.checkout = await window.SHOPIFY_CLIENT.checkout.create();
		this.updateCartUI();
		this.bindEvents();
		this.createCheckoutModal();
		
		// AGREGAR ESTA LÍNEA:
		if (!this.isDev) this.debugVariantIds();
		
		console.log('✅ Shopify cart initialized successfully');
	} catch (error) {
		console.error('❌ Error initializing Shopify cart:', error);
		this.bindEvents();
		this.createCheckoutModal();
	}
}

	createCheckoutModal() {
		const modalHTML = `
			<div id="checkout-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; overflow-y: auto;">
				<div style="position: relative; width: 95%; max-width: 900px; margin: 20px auto; background: white; border-radius: 12px; padding: 0; font-family: var(--base-font);">
					<div style="padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center;">
						<h2 style="margin: 0; color: #2596be;">Your Cart</h2>
						<button id="close-checkout" style="background: none; border: none; font-size: 28px; cursor: pointer; color: #666; padding: 5px;">×</button>
					</div>
					<div style="padding: 20px;">
						<div id="cart-items-list"></div>
						<div id="cart-total" style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #2596be;"></div>
						<div style="margin-top: 20px; text-align: center;">
							<button id="proceed-checkout" style="background: #2596be; color: white; border: none; padding: 0px 30px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; width: 100%; max-width: 300px;">
								Proceed to Payment
							</button>
						</div>
					</div>
				</div>
			</div>
		`;
		
		document.body.insertAdjacentHTML('beforeend', modalHTML);
		
		// Event listeners del modal
		document.getElementById('close-checkout').addEventListener('click', () => {
			document.getElementById('checkout-modal').style.display = 'none';
		});
		
		document.getElementById('checkout-modal').addEventListener('click', (e) => {
			if (e.target.id === 'checkout-modal') {
				document.getElementById('checkout-modal').style.display = 'none';
			}
		});

		document.getElementById('proceed-checkout').addEventListener('click', () => {
			this.proceedToPayment();
		});
	}

bindEvents() {
	document.querySelectorAll('.shopify-add-item').forEach(button => {
		button.addEventListener('click', (e) => {
			e.preventDefault();
			
			// FIXED: Convertir variant ID a Global ID
			let variantId = e.target.dataset.variantId;
			const title = e.target.dataset.productTitle || 'Producto';
			const price = e.target.dataset.price || '399';
			
			// Convertir a Global ID si es necesario
			if (variantId && !variantId.startsWith('gid://')) {
				variantId = VARIANT_ID_MAP[variantId] || `gid://shopify/ProductVariant/${variantId}`;
			}
			
			console.log('🛒 Botón clickeado:', title, 'Global ID:', variantId);
			
			if (this.isDev) {
				this.addToMockCart(variantId, title, price);
			} else {
				if (!variantId) {
					alert('Error: Variant ID no encontrado');
					return;
				}
				this.addToCart(variantId, 1, title);
			}
		});
	});

	// Cart button event
	const checkoutButton = document.getElementById('cart-button');
	if (checkoutButton) {
		checkoutButton.addEventListener('click', (e) => {
			e.preventDefault();
			console.log('🛒 Cart button clicked');
			this.openCheckoutModal();
		});
	}
	
	console.log('🔗 Event listeners agregados a los botones');
}


	// Método para desarrollo - carrito simulado
addToMockCart(variantId, title, price) {
	const existingItem = this.mockCart.find(item => item.variantId === variantId);
	
	if (existingItem) {
		existingItem.quantity += 1;
	} else {
		this.mockCart.push({
			variantId: variantId,
			title: title,
			price: parseFloat(price),
			quantity: 1,
			id: 'mock-' + Date.now()
		});
	}
	
	console.log('🛒 Mock cart updated:', this.mockCart);
	this.updateCartUI();
	this.showAddToCartNotification(title + ' (Dev Mode)');
}

async addToCart(variantId, quantity, title) {
	// FIXED: Usar formato correcto para Shopify Buy SDK
	const lineItemsToAdd = [{
		variantId: variantId,  // Ya viene como Global ID
		quantity: parseInt(quantity)
	}];

	try {
		console.log('📦 Agregando al carrito:', lineItemsToAdd);
		this.checkout = await window.SHOPIFY_CLIENT.checkout.addLineItems(this.checkout.id, lineItemsToAdd);
		this.updateCartUI();
		this.showAddToCartNotification(title);
		console.log('✅ Producto agregado exitosamente:', title);
	} catch (error) {
		console.error('❌ Error agregando al carrito:', error);
		// Fallback en caso de error
		this.addToMockCart(variantId, title, '399');
		this.showAddToCartNotification(title + ' (Usando modo fallback)');
	}
}

updateCartUI() {
	const cartCount = document.querySelector('.shopify-cart-count');
	if (!cartCount) return;
	
	let totalItems = 0;
	
	if (this.isDev) {
		totalItems = this.mockCart.reduce((total, item) => total + item.quantity, 0);
	} else if (this.checkout && this.checkout.lineItems) {
		totalItems = this.checkout.lineItems.reduce((total, item) => total + item.quantity, 0);
	}
	
	cartCount.textContent = totalItems;
	console.log('🛒 Cart updated - Total items:', totalItems);
}

	openCheckoutModal() {
		const modal = document.getElementById('checkout-modal');
		if (!modal) return;
		
		this.renderCartItems();
		modal.style.display = 'block';
		console.log('🛒 Modal de checkout abierto');
	}

	renderCartItems() {
		const itemsList = document.getElementById('cart-items-list');
		const cartTotal = document.getElementById('cart-total');
		
		if (!itemsList || !cartTotal) return;

		if (this.isDev) {
			// Modo desarrollo
			if (this.mockCart.length === 0) {
				itemsList.innerHTML = '<p style="text-align: center; color: #666; padding: 40px;">Tu carrito está vacío</p>';
				cartTotal.innerHTML = '';
				return;
			}

			let itemsHTML = '';
			let total = 0;

			this.mockCart.forEach((item, index) => {
				const itemTotal = item.price * item.quantity;
				total += itemTotal;
				
				itemsHTML += `
					<div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; border: 1px solid #eee; border-radius: 8px; margin-bottom: 10px;">
						<div style="flex: 1;">
							<h4 style="margin: 0 0 5px 0; color: #333;">${item.title}</h4>
							<p style="margin: 0; color: #666; font-size: 14px;">$${item.price.toFixed(2)} c/u</p>
						</div>
						<div style="display: flex; align-items: center; gap: 10px;">
							<button onclick="window.shopifyCart.updateMockQuantity(${index}, ${item.quantity - 1})" style="background: #f0f0f0; border: none; padding: 0px 8px; width: 30px; height: 40px; border-radius: 4px; cursor: pointer;">-</button>
							<span style="font-weight: 600; min-width: 20px; text-align: center;">${item.quantity}</span>
							<button onclick="window.shopifyCart.updateMockQuantity(${index}, ${item.quantity + 1})" style="background: #f0f0f0; border: none; padding: 0px 8px; width: 30px; height: 40px; border-radius: 4px; cursor: pointer;">+</button>
							<button onclick="window.shopifyCart.removeMockItem(${index})" style="background: #ff4757; color: white; border: none; padding: 0px 8px; border-radius: 4px; cursor: pointer; margin-left: 10px;">🗑</button>
						</div>
					</div>
				`;
			});

			itemsList.innerHTML = itemsHTML;
			cartTotal.innerHTML = `
				<div style="text-align: right;">
					<h3 style="margin: 0; color: #2596be;">Total: $${total.toFixed(2)}</h3>
					<p style="margin: 5px 0 0 0; color: #666; font-size: 14px;">DEV MODE - In production, this will be the real price</p>
				</div>
			`;
		} else {
			// Modo producción - usar datos reales de Shopify
			if (!this.checkout || this.checkout.lineItems.length === 0) {
				itemsList.innerHTML = '<p style="text-align: center; color: #666; padding: 40px;">Tu carrito está vacío</p>';
				cartTotal.innerHTML = '';
				return;
			}

			let itemsHTML = '';
			this.checkout.lineItems.forEach((item, index) => {
				itemsHTML += `
					<div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; border: 1px solid #eee; border-radius: 8px; margin-bottom: 10px;">
						<div style="flex: 1;">
							<h4 style="margin: 0 0 5px 0; color: #333;">${item.title}</h4>
							<p style="margin: 0; color: #666; font-size: 14px;">$${item.variant.price.amount} c/u</p>
						</div>
						<div style="display: flex; align-items: center; gap: 10px;">
							<button onclick="window.shopifyCart.updateQuantity('${item.id}', ${item.quantity - 1})" style="background: #f0f0f0; border: none; width: 30px; height: 30px; border-radius: 4px; cursor: pointer;">-</button>
							<span style="font-weight: 600; min-width: 20px; text-align: center;">${item.quantity}</span>
							<button onclick="window.shopifyCart.updateQuantity('${item.id}', ${item.quantity + 1})" style="background: #f0f0f0; border: none; width: 30px; height: 30px; border-radius: 4px; cursor: pointer;">+</button>
							<button onclick="window.shopifyCart.removeItem('${item.id}')" style="background: #ff4757; color: white; border: none; padding: 5px 8px; border-radius: 4px; cursor: pointer; margin-left: 10px;">🗑</button>
						</div>
					</div>
				`;
			});

			itemsList.innerHTML = itemsHTML;
			cartTotal.innerHTML = `
				<div style="text-align: right;">
					<h3 style="margin: 0; color: #2596be;">Total: $${this.checkout.totalPrice.amount}</h3>
				</div>
			`;
		}
	}

	// Métodos para desarrollo
	updateMockQuantity(index, newQuantity) {
		if (newQuantity <= 0) {
			this.removeMockItem(index);
			return;
		}
		
		this.mockCart[index].quantity = newQuantity;
		this.updateCartUI();
		this.renderCartItems();
	}

	removeMockItem(index) {
		this.mockCart.splice(index, 1);
		this.updateCartUI();
		this.renderCartItems();
	}

	// Métodos para producción
	async updateQuantity(lineItemId, newQuantity) {
		if (newQuantity <= 0) {
			this.removeItem(lineItemId);
			return;
		}

		try {
			const lineItemsToUpdate = [{
				id: lineItemId,
				quantity: newQuantity
			}];

			this.checkout = await window.SHOPIFY_CLIENT.checkout.updateLineItems(this.checkout.id, lineItemsToUpdate);
			this.updateCartUI();
			this.renderCartItems();
			console.log('✅ Cantidad actualizada');
		} catch (error) {
			console.error('❌ Error actualizando cantidad:', error);
		}
	}

	async removeItem(lineItemId) {
		try {
			this.checkout = await window.SHOPIFY_CLIENT.checkout.removeLineItems(this.checkout.id, [lineItemId]);
			this.updateCartUI();
			this.renderCartItems();
			console.log('✅ Producto eliminado');
		} catch (error) {
			console.error('❌ Error eliminando producto:', error);
		}
	}

	proceedToPayment() {
		if (this.isDev) {
			alert('🚧 Development mode: In production here the real payment will be processed with Shopify');
			return;
		}

		if (this.checkout && this.checkout.lineItems.length > 0) {
			// Crear iframe para checkout de pago
			const checkoutFrame = document.getElementById('shopify-checkout-frame');
			if (checkoutFrame) {
				checkoutFrame.src = this.checkout.webUrl;
				checkoutFrame.style.display = 'block';
				
				// Ocultar la lista de productos y mostrar solo el checkout
				document.getElementById('cart-items-list').style.display = 'none';
				document.getElementById('cart-total').style.display = 'none';
				document.querySelector('#proceed-checkout').style.display = 'none';
				
				// Añadir botón para volver al carrito
				const backButton = document.createElement('button');
				backButton.innerHTML = '← Volver al carrito';
				backButton.style.cssText = 'background: #6c757d; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; margin-bottom: 15px;';
				backButton.addEventListener('click', () => {
					document.getElementById('cart-items-list').style.display = 'block';
					document.getElementById('cart-total').style.display = 'block';
					document.querySelector('#proceed-checkout').style.display = 'block';
					checkoutFrame.style.display = 'none';
					backButton.remove();
				});
				
				document.getElementById('checkout-content').insertBefore(backButton, checkoutFrame);
			}
		} else {
			alert('Tu carrito está vacío');
		}
	}

	showAddToCartNotification(productTitle) {
		const notification = document.createElement('div');
		notification.style.cssText = `
			position: fixed;
			top: 20px;
			right: 20px;
			background: ${this.isDev ? '#ff6b35' : '#2596be'};
			color: white;
			padding: 15px 20px;
			border-radius: 8px;
			z-index: 10000;
			font-weight: 600;
			box-shadow: 0 4px 20px rgba(0,0,0,0.1);
			max-width: 300px;
			font-family: var(--base-font);
		`;
		notification.textContent = `✓ ${productTitle} added to cart`;
		
		document.body.appendChild(notification);
		
		setTimeout(() => {
			if (document.body.contains(notification)) {
				document.body.removeChild(notification);
			}
		}, 3000);
	}
}

		// Inicializar carrito Shopify
		window.shopifyCart = new ShopifyCart();
		console.log('🚀 Shopify integration loaded successfully');
	});

	// ============ FIN SHOPIFY INTEGRATION ============
});
</script>
