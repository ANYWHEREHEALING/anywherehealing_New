---
import Frequana from '../assets/frequana.png'
import AlphaWearable from '../assets/alpha-wearable.png'
import CharismaRing from '../assets/charismaring.png'
---

<section class="pricing-table" id="pricing">
  <div class="container">
    <div class="center text-container">
      <h3 class="h1-title">Choose the right one</h3>
      <p>Pick the device that matches your goals—or combine them to stack resonance power and accelerate results.</p>

      <!-- NEW: Quick Comparison Bar -->
      <div class="compare-bar" role="list" aria-label="Product comparison">
        <div class="compare-pill" role="listitem">
          <div class="compare-title">Frequana</div>
          <div class="compare-sub">Strongest</div>
          <ul>
            <li>Tri-layer resonance</li>
            <li>Deep ease ~90s</li>
            <li>Full-body alignment</li>
          </ul>
        </div>
        <div class="compare-pill featured" role="listitem">
          <div class="compare-title">Alpha Wearable</div>
          <div class="compare-sub">Everyday</div>
          <ul>
            <li>Dual biofeedback</li>
            <li>Sleep & stress</li>
            <li>App personalization</li>
          </ul>
        </div>
        <div class="compare-pill" role="listitem">
          <div class="compare-title">Charisma Ring</div>
          <div class="compare-sub">Compact</div>
          <ul>
            <li>On-the-go support</li>
            <li>Focus & calm</li>
            <li>Light footprint</li>
          </ul>
        </div>
      </div>

      <div class="buttonbuyall">
        <a href="/order?product=bundle" class="button button-primary u-full-width">Buy The Complete Bundle</a>
      </div>
    </div>

    <div class="row">
      <!-- FREQUANA -->
      <div class="one-third column price-item">
        <div class="product-image">
          <img src={Frequana.src} alt="Frequana" class="product-img" data-image="frequana">
        </div>
        <div class="price-header m-margin">
          <h5 class="l-subtitle">Frequana</h5>
          <div class="sensor-chips" aria-label="Core capabilities">
            <span class="chip">Tri-Layer Resonance</span>
            <span class="chip">Circulatory Insight</span>
            <span class="chip">Precision Thermal Mapping</span>
          </div>
          <small class="sensor-note">Three synchronized biofeedback layers amplify the therapeutic field.</small>
          <h3 class="h2-title">$649<span class="s-paragraph"> USD</span></h3>
          <a href="/order?product=frequana" class="button u-full-width">Buy Now</a>
        </div>

        <div class="quick-use">
          <strong>Use this if you want:</strong>
          <ul>
            <li>Our most powerful and immersive therapy</li>
            <li>Multi-channel feedback for rapid full-body alignment</li>
            <li>That “ahh” sensation of deep ease — often within ~90 seconds</li>
          </ul>
        </div>

        <div class="price-list">
          <p><strong>Bioresonance power-up:</strong> three coordinated sensing layers read subtle rhythm, flow, and temperature patterns to intensify and refine therapy.</p>
          <p>Next generation and more powerful</p>
          <p>Non-invasive, drug-free wellness technology</p>
          <p>Promotes detoxification and overall balance</p>
          <p>Works with your body’s electromagnetic signature</p>
          <p>Supports healthy circulation</p>
          <p>Enhances cellular communication</p>
          <p>Nervous system harmony</p>
          <p>Immune resilience</p>
          <p>And more</p>
        </div>
      </div>

      <!-- ALPHA WEARABLE -->
      <div class="one-third column price-item featured">
        <div class="product-image">
          <img src={AlphaWearable.src} alt="Alpha Wearable" class="product-img" data-image="alpha">
        </div>
        <div class="price-header m-margin">
          <h5 class="l-subtitle">Alpha Wearable + App subscription</h5>
          <div class="sensor-chips" aria-label="Core capabilities">
            <span class="chip">Dual Biofeedback</span>
            <span class="chip">Thermal Balance Tracking</span>
          </div>
          <small class="sensor-note">Two adaptive channels guide day-to-day resonance.</small>
          <h3 class="h2-title">$399<span class="s-paragraph"> USD</span></h3>
          <a href="/order?product=alpha" class="button button-primary u-full-width">Buy Now</a>
        </div>

        <div class="quick-use">
          <strong>Use this if you want:</strong>
          <ul>
            <li>Everyday support for sleep, stress, and recovery</li>
            <li>Smart, app-driven personalization</li>
            <li>A natural path to steady energy and wellbeing</li>
          </ul>
        </div>

        <div class="price-list">
          <p><strong>Bioresonance power-up:</strong> dual channels read vitality dynamics and temperature trends to fine-tune frequency delivery in real time.</p>
          <p>Sleep aid, stress relief, and overall wellbeing</p>
          <p>Corrects energy imbalances</p>
          <p>Promotes balance and vitality</p>
          <p>Works in harmony with your body</p>
          <p>Natural path to better health</p>
          <p>Helps manage neurological discomforts</p>
          <p>Supports healthy circulation and blood pressure</p>
          <p>Reduces inflammation; supports cellular renewal</p>
          <p>Encourages easier breathing patterns</p>
          <p>Holistic approach to healing</p>
        </div>
      </div>

      <!-- CHARISMA RING -->
      <div class="one-third column price-item">
        <div class="product-image">
          <img src={CharismaRing.src} alt="Charisma Ring" class="product-img" data-image="charisma">
        </div>
        <div class="price-header m-margin">
          <h5 class="l-subtitle">Charisma ring</h5>
          <div class="sensor-chips" aria-label="Core capabilities">
            <span class="chip">Dual Resonance Sensing</span>
            <span class="chip">Flow & Vitality Signals</span>
          </div>
          <small class="sensor-note">Compact guidance for on-the-go sessions.</small>
          <h3 class="h2-title">$199<span class="s-paragraph"> USD</span></h3>
          <a href="/order?product=charisma" class="button u-full-width">Buy Now</a>
        </div>

        <div class="quick-use">
          <strong>Use this if you want:</strong>
          <ul>
            <li>Pocket-size calm, focus, and sleep support</li>
            <li>Daily resonance with minimal footprint</li>
            <li>An easy entry into frequency-based wellness</li>
          </ul>
        </div>

        <div class="price-list">
          <p><strong>Bioresonance power-up:</strong> dual sensing of flow and inner vitality refines therapy for clarity, calm, and restorative rest.</p>
          <p>Sleep aid and anxiety relief through frequencies</p>
          <p>Smart, effortless technology</p>
          <p>Improves focus and natural energy</p>
          <p>Ongoing wellness insights</p>
          <p>Supports healthy circulation</p>
          <p>And more</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Image Modal -->
  <div class="image-modal" id="imageModal">
    <div class="modal-content">
      <span class="close-button">&times;</span>
      <img id="modalImage" src="" alt="">
    </div>
  </div>
</section>

<style lang="scss">
.pricing-table {
  background-color: #fff;

  /* NEW: Comparison bar styles */
  .compare-bar{
    display:grid; grid-template-columns:repeat(3,1fr); gap:14px;
    border:1px solid #e5e7eb; border-radius:16px; padding:14px; margin:20px 0 36px;
    background:#fafafa;
  }
  .compare-pill{
    background:#ffffff; border:1px solid #e5e7eb; border-radius:12px; padding:12px 14px;
    display:flex; flex-direction:column; gap:6px;
  }
  .compare-pill.featured{ box-shadow:0 8px 18px rgba(0,0,0,.05); transform:translateY(-2px); }
  .compare-title{ font-weight:700; letter-spacing:.2px; }
  .compare-sub{ font-size:.9rem; color:#2563eb; font-weight:700; }
  .compare-pill ul{ margin:0; padding-left:18px; }
  .compare-pill li{ margin:4px 0; font-size:.95rem; }

  .price-item{
    border: 1px solid #dde2e5;
    padding: 30px;
    margin-top: 20px;
    border-radius: 20px;
    position: relative;

    &.featured{
      box-shadow: 0 10px 24px rgba(0,0,0,0.06);
      transform: translateY(-6px);
    }

    .product-image { text-align:center; margin-bottom:25px;
      .product-img{
        width:70px!important; height:70px!important; object-fit:cover;
        transition:transform .3s ease; display:block; margin:0 auto;
        border-radius:12px!important; border:1px solid #ddd; cursor:pointer;
        &:hover{ transform:scale(1.1); }
      }
    }

    .price-header{
      h3 .s-paragraph{ color:#9ba5b9; }
      .sensor-note{ display:block; margin-top:6px; color:#6b7280; font-size:.9rem; }
    }

    /* Capability chips */
    .sensor-chips{
      margin:6px 0 4px; display:flex; gap:8px; flex-wrap:wrap;
      .chip{
        display:inline-block; padding:6px 10px; border-radius:9999px;
        border:1px solid #e2e8f0; font-size:.8rem; font-weight:600; letter-spacing:.02em;
        background:#f8fafc;
      }
    }

    .quick-use{
      background:#f7fbff; border:1px solid #dceeff; border-radius:12px;
      padding:14px; margin:14px 0 8px;
      ul{ margin:8px 0 0 18px; }
      li{ margin:6px 0; }
    }

    .price-list p{
      margin:10px 0; position:relative; padding-left:20px; font-size:14px; line-height:1.4;
      &::before{
        position:absolute; content:''; left:0; top:5px; display:inline-block; transform:rotate(45deg);
        height:8px; width:5px; border-bottom:2px solid #9ba5b9; border-right:2px solid #9ba5b9; z-index:5;
      }
    }
  }

  .price-item .button:hover{ color:#333!important; }
  .price-item .button.button-primary:hover{ color:#fff!important; }
}

.buttonbuyall{ margin-top:50px; margin-bottom:70px; }

/* Modal (unchanged) */
.image-modal{ display:none; position:fixed; z-index:10000; left:0; top:0; width:100%; height:100%;
  background-color:rgba(0,0,0,.9); backdrop-filter:blur(5px);
  &.active{ display:flex; justify-content:center; align-items:center; padding:20px; }
  .modal-content{ position:relative; width:100%; height:100%; display:flex; justify-content:center; align-items:center;
    .close-button{ position:fixed; top:20px; right:20px; color:#fff; font-size:40px; font-weight:bold; cursor:pointer;
      z-index:10001; transition:all .3s ease; background:rgba(0,0,0,.5); border-radius:50%; width:60px; height:60px;
      display:flex; align-items:center; justify-content:center;
      &:hover{ color:#ccc; background:rgba(0,0,0,.7); transform:scale(1.1); }
    }
    img{ max-width:calc(100vw - 40px); max-height:calc(100vh - 40px); width:auto; height:auto; object-fit:contain;
      border-radius:15px; box-shadow:0 20px 40px rgba(0,0,0,.3); transition:opacity .3s ease; }
  }
}

@media (max-width: 920px){
  .pricing-table .compare-bar{ grid-template-columns:1fr; }
}

@media (max-width: 768px){
  .h1-title{ font-size:3rem; }
  .l-subtitle, .h2-title{ text-align:center; }
  .button{ padding:0 18px; font-size:1.1rem; }
  p{ font-size:1.4rem; margin-top:35px; }
  .image-modal.active{ padding:10px; }
  .image-modal .close-button{ top:10px; right:10px; font-size:30px; width:50px; height:50px; }
  .image-modal img{ max-width:calc(100vw - 20px); max-height:calc(100vh - 20px); }
}

@media (max-width: 480px){
  .image-modal.active{ padding:5px; }
  .image-modal .close-button{ top:5px; right:5px; font-size:24px; width:40px; height:40px; }
  .image-modal img{ max-width:calc(100vw - 10px); max-height:calc(100vh - 10px); }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const modal = document.getElementById('imageModal');
  const modalImg = document.getElementById('modalImage');
  const closeBtn = document.querySelector('.close-button');
  let isModalOpen = false;

  function openModal(src, alt){
    if(isModalOpen) return;
    modalImg.src = src; modalImg.alt = alt;
    modal.classList.add('active'); document.body.style.overflow = 'hidden'; isModalOpen = true;
  }
  function closeModal(){
    if(!isModalOpen) return;
    modal.classList.remove('active'); document.body.style.overflow = ''; isModalOpen = false;
    setTimeout(()=>{ if(!isModalOpen) modalImg.src=''; }, 300);
  }

  document.addEventListener('click', function(e){
    if(e.target.classList.contains('product-img')){
      e.preventDefault(); openModal(e.target.src, e.target.alt);
    }
  });
  closeBtn.addEventListener('click', closeModal, { passive:true });
  modal.addEventListener('click', function(e){ if(e.target === modal) closeModal(); }, { passive:true });

  let escapeTimeout;
  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape' && isModalOpen){
      if(escapeTimeout) return;
      escapeTimeout = setTimeout(()=>{ closeModal(); escapeTimeout = null; }, 100);
    }
  });
});
</script>
