---
import Frequana from '../assets/frequana.png'
import AlphaWearable from '../assets/alpha-wearable.png'
import CharismaRing from '../assets/charismaring.png'
---

<section class="pricing-table" id="pricing">
  <div class="container">
    <!-- Headline copy stays narrow for readability -->
    <div class="center text-container">
      <h3 class="h1-title">Choose the right one</h3>
      <p>Pick the device that matches your goals—or combine them to stack resonance power and accelerate results.</p>
    </div>

    <!-- BIG, CENTERED COMPARISON (moved out of text-container) -->
    <div class="compare" aria-label="Product comparison">
      <div class="compare-deck">
        <!-- FREQUANA -->
        <article class="ccard" style="--accent:#2563eb">
          <header class="ccard-head">
            <img class="ccard-icon" src={Frequana.src} alt="" aria-hidden="true" />
            <h4 class="ccard-title">Frequana</h4>
            <span class="ccard-badge">Strongest</span>
          </header>
          <ul class="ccard-list">
            <li>Tri-layer resonance</li>
            <li>Deep ease ~90s</li>
            <li>Full-body alignment</li>
          </ul>
        </article>

        <!-- ALPHA -->
        <article class="ccard is-featured" style="--accent:#0ea5e9">
          <header class="ccard-head">
            <img class="ccard-icon" src={AlphaWearable.src} alt="" aria-hidden="true" />
            <h4 class="ccard-title">Alpha Wearable</h4>
            <span class="ccard-badge">Everyday</span>
          </header>
          <ul class="ccard-list">
            <li>Dual biofeedback</li>
            <li>Sleep &amp; stress</li>
            <li>App personalization</li>
          </ul>
        </article>

        <!-- CHARISMA -->
        <article class="ccard" style="--accent:#7c3aed">
          <header class="ccard-head">
            <img class="ccard-icon" src={CharismaRing.src} alt="" aria-hidden="true" />
            <h4 class="ccard-title">Charisma Ring</h4>
            <span class="ccard-badge">Compact</span>
          </header>
          <ul class="ccard-list">
            <li>On-the-go support</li>
            <li>Focus &amp; calm</li>
            <li>Light footprint</li>
          </ul>
        </article>
      </div>
    </div>

    <div class="buttonbuyall">
      <a href="/order?product=bundle" class="button button-primary u-full-width">Buy The Complete Bundle</a>
    </div>

    <!-- ===== Product cards (unchanged content) ===== -->
    <div class="row">
      <!-- FREQUANA -->
      <div class="one-third column price-item">
        <div class="product-image">
          <img src={Frequana.src} alt="Frequana" class="product-img">
        </div>
        <div class="price-header m-margin">
          <div class="header-top">
            <h5 class="l-subtitle">Frequana</h5>
            <div class="sensor-chips" aria-label="Core capabilities">
              <span class="chip">Tri-Layer Resonance</span>
              <span class="chip">Circulatory Insight</span>
              <span class="chip">Precision Thermal Mapping</span>
            </div>
            <small class="sensor-note">Three synchronized biofeedback layers amplify the therapeutic field.</small>
          </div>
          <div class="price"><span class="amount">$649</span><span class="currency">USD</span></div>
          <div class="price-actions"><a href="/order?product=frequana" class="button u-full-width">Buy Now</a></div>
        </div>
        <div class="quick-use">
          <strong>Use this if you want:</strong>
          <ul>
            <li>Our most powerful and immersive therapy</li>
            <li>Multi-channel feedback for rapid full-body alignment</li>
            <li>That “ahh” sensation of deep ease — often within ~90 seconds</li>
          </ul>
        </div>
        <div class="price-list">
          <p><strong>Bioresonance power-up:</strong> three coordinated sensing layers read subtle rhythm, flow, and temperature patterns to intensify and refine therapy.</p>
          <p>Next generation and more powerful</p>
          <p>Non-invasive, drug-free wellness technology</p>
          <p>Promotes detoxification and overall balance</p>
          <p>Works with your body’s electromagnetic signature</p>
          <p>Supports healthy circulation</p>
          <p>Enhances cellular communication</p>
          <p>Nervous system harmony</p>
          <p>Immune resilience</p>
          <p>And more</p>
        </div>
      </div>

      <!-- ALPHA -->
      <div class="one-third column price-item featured">
        <div class="product-image">
          <img src={AlphaWearable.src} alt="Alpha Wearable" class="product-img">
        </div>
        <div class="price-header m-margin">
          <div class="header-top">
            <h5 class="l-subtitle">Alpha Wearable + App subscription</h5>
            <div class="sensor-chips" aria-label="Core capabilities">
              <span class="chip">Dual Biofeedback</span>
              <span class="chip">Thermal Balance Tracking</span>
            </div>
            <small class="sensor-note">Two adaptive channels guide day-to-day resonance.</small>
          </div>
          <div class="price"><span class="amount">$399</span><span class="currency">USD</span></div>
          <div class="price-actions"><a href="/order?product=alpha" class="button button-primary u-full-width">Buy Now</a></div>
        </div>
        <div class="quick-use">
          <strong>Use this if you want:</strong>
          <ul>
            <li>Everyday support for sleep, stress, and recovery</li>
            <li>Smart, app-driven personalization</li>
            <li>A natural path to steady energy and wellbeing</li>
          </ul>
        </div>
        <div class="price-list">
          <p><strong>Bioresonance power-up:</strong> dual channels read vitality dynamics and temperature trends to fine-tune frequency delivery in real time.</p>
          <p>Sleep aid, stress relief, and overall wellbeing</p>
          <p>Corrects energy imbalances</p>
          <p>Promotes balance and vitality</p>
          <p>Works in harmony with your body</p>
          <p>Natural path to better health</p>
          <p>Helps manage neurological discomforts</p>
          <p>Supports healthy circulation and blood pressure</p>
          <p>Reduces inflammation; supports cellular renewal</p>
          <p>Encourages easier breathing patterns</p>
          <p>Holistic approach to healing</p>
        </div>
      </div>

      <!-- CHARISMA -->
      <div class="one-third column price-item">
        <div class="product-image">
          <img src={CharismaRing.src} alt="Charisma Ring" class="product-img">
        </div>
        <div class="price-header m-margin">
          <div class="header-top">
            <h5 class="l-subtitle">Charisma ring</h5>
            <div class="sensor-chips" aria-label="Core capabilities">
              <span class="chip">Dual Resonance Sensing</span>
              <span class="chip">Flow &amp; Vitality Signals</span>
            </div>
            <small class="sensor-note">Compact guidance for on-the-go sessions.</small>
          </div>
          <div class="price"><span class="amount">$199</span><span class="currency">USD</span></div>
          <div class="price-actions"><a href="/order?product=charisma" class="button u-full-width">Buy Now</a></div>
        </div>
        <div class="quick-use">
          <strong>Use this if you want:</strong>
          <ul>
            <li>Pocket-size calm, focus, and sleep support</li>
            <li>Daily resonance with minimal footprint</li>
            <li>An easy entry into frequency-based wellness</li>
          </ul>
        </div>
        <div class="price-list">
          <p><strong>Bioresonance power-up:</strong> dual sensing of flow and inner vitality refines therapy for clarity, calm, and restorative rest.</p>
          <p>Sleep aid and anxiety relief through frequencies</p>
          <p>Smart, effortless technology</p>
          <p>Improves focus and natural energy</p>
          <p>Ongoing wellness insights</p>
          <p>Supports healthy circulation</p>
          <p>And more</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Image Modal -->
  <div class="image-modal" id="imageModal">
    <div class="modal-content">
      <span class="close-button">&times;</span>
      <img id="modalImage" src="" alt="">
    </div>
  </div>
</section>

<style lang="scss">
:root{
  --space-2: 12px; --space-3: 16px; --space-4: 20px; --space-5: 28px; --space-6: 36px;
  --text-max: 58ch; --header-min: 220px; --quickuse-min: 180px;
}

.pricing-table{ background:#fff; line-height:1.65; }
.pricing-table .container{ max-width:1200px; margin:0 auto; padding:0 16px; }

/* headline stays narrow */
.text-container{ max-width: 820px; margin: 0 auto; }

/* ====== COMPARE (centered, wide, badges centered under titles) ====== */
.compare{ margin: 28px auto 44px; }
.compare-deck{ display:grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-6); }

.ccard{
  background:#fff; border:1px solid #e6eaf0; border-radius:18px;
  padding:28px; box-shadow:0 6px 18px rgba(16,24,40,.06);
}
.ccard.is-featured{ box-shadow:0 10px 26px rgba(16,24,40,.08); transform:translateY(-2px); }

/* icon -> title -> badge (all centered) */
.ccard-head{
  display:flex; flex-direction:column; align-items:center; gap:8px;
  min-height: 120px; /* stable row so all three align */
  text-align:center;
}
.ccard-icon{ width:64px; height:64px; border-radius:14px; border:1px solid #e6eaf0; object-fit:cover; }
.ccard-title{
  margin:0; font-weight:900; font-size:clamp(1.2rem, 1vw + 1rem, 1.9rem); letter-spacing:-.01em;
}
.ccard-badge{
  display:inline-flex; align-items:center; height:30px; padding:0 12px; border-radius:9999px;
  font-weight:800; font-size:.95rem; color: var(--accent);
  background: color-mix(in srgb, var(--accent) 16%, #eaf2ff);
  border:1px solid color-mix(in srgb, var(--accent) 42%, #dbeafe);
}

/* bullets aligned with wrapping text */
.ccard-list{ list-style:none; margin: 6px 0 0; padding:0; display:grid; row-gap:12px; }
.ccard-list li{ position:relative; padding-left:22px; font-size:1.05rem; line-height:1.6; }
.ccard-list li::before{
  content:''; position:absolute; left:0; top:.9em; transform:translateY(-50%);
  width:8px; height:8px; border-radius:50%; background: color-mix(in srgb, var(--accent) 45%, #cbd5e1);
}

/* ====== Product cards layout ====== */
.row{ display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:var(--space-6); }
.row > .column{ float:none!important; width:auto!important; margin-left:0!important; }
.price-item{
  border:1px solid #dde2e5; border-radius:22px; background:#fff;
  padding:var(--space-6); display:grid; grid-template-rows:auto auto auto 1fr; gap:var(--space-3);
}
.product-image{ text-align:center; }
.product-img{ width:80px; height:80px; object-fit:cover; border-radius:14px; border:1px solid #ddd; }
.price-header{ display:grid; grid-template-rows:1fr auto auto; gap:10px; min-height:var(--header-min); }
.header-top{ display:flex; flex-direction:column; gap:8px; }
.sensor-chips{ display:flex; flex-wrap:wrap; gap:8px; }
.chip{ padding:6px 10px; border:1px solid #e2e8f0; border-radius:9999px; background:#f8fafc; font-size:.85rem; font-weight:600; }
.sensor-note{ color:#6b7280; font-size:.9rem; }
.price{ display:inline-flex; align-items:flex-end; gap:8px; }
.price .amount{ font-size:2.6rem; font-weight:800; line-height:1; letter-spacing:-.02em; font-variant-numeric:tabular-nums; }
.price .currency{ font-size:.9rem; margin-bottom:6px; color:#6b7280; font-weight:700; letter-spacing:.02em; text-transform:uppercase; }
.quick-use{ background:#f7fbff; border:1px solid #dceeff; border-radius:12px; padding:var(--space-3); min-height:var(--quickuse-min); }
.quick-use ul{ margin:8px 0 0 18px; } .quick-use li{ margin:8px 0; }
.price-list{ max-width:var(--text-max); }
.price-list p{ margin:12px 0; padding-left:22px; position:relative; font-size:14px; line-height:1.6; }
.price-list p::before{ content:''; position:absolute; left:0; top:5px; transform:rotate(45deg); width:5px; height:8px; border-bottom:2px solid #9ba5b9; border-right:2px solid #9ba5b9; }
.price-item.featured{ box-shadow:0 10px 24px rgba(0,0,0,.06); transform:translateY(-6px); }
.price-item .button{ padding:0 22px; }
.buttonbuyall{ margin-top:54px; margin-bottom:80px; }

/* ====== Responsive ====== */
@media (max-width: 1024px){
  .row{ gap:var(--space-5); }
}
@media (max-width: 920px){
  .row{ grid-template-columns:1fr; }
  .compare-deck{ grid-template-columns:1fr; }
  .ccard-head{ min-height:unset; }
}

/* ===== Fix: mobile CTA vertical centering (iPhone Safari) ===== */
.buttonbuyall {
  display: flex;
  justify-content: center;
  padding-left: max(16px, env(safe-area-inset-left));
  padding-right: max(16px, env(safe-area-inset-right));
}

.buttonbuyall .button {
  /* Center text perfectly */
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;

  /* Avoid the line-height hack that looks off on iOS */
  height: 52px !important;
  padding: 0 22px !important;
  line-height: 1 !important;

  /* Keep it tidy */
  text-align: center;
  white-space: nowrap;
  border-radius: 14px;
  font-weight: 700;
  letter-spacing: .04em;
  -webkit-appearance: none;
}

/* Small phones */
@media (max-width: 480px) {
  .buttonbuyall .button {
    width: 100%;
    height: 48px !important;
    padding: 0 18px !important;
  }
}

</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const modal = document.getElementById('imageModal');
  const modalImg = document.getElementById('modalImage');
  const closeBtn = document.querySelector('.close-button');
  let isModalOpen = false;

  function openModal(src, alt){
    if(isModalOpen) return;
    modalImg.src = src; modalImg.alt = alt;
    modal.classList.add('active'); document.body.style.overflow = 'hidden'; isModalOpen = true;
  }
  function closeModal(){
    if(!isModalOpen) return;
    modal.classList.remove('active'); document.body.style.overflow = ''; isModalOpen = false;
    setTimeout(()=>{ if(!isModalOpen) modalImg.src=''; }, 300);
  }

  document.addEventListener('click', function(e){
    if(e.target.classList.contains('product-img')){
      e.preventDefault(); openModal(e.target.src, e.target.alt);
    }
  });
  if (closeBtn) closeBtn.addEventListener('click', closeModal, { passive:true });
  document.getElementById('imageModal').addEventListener('click', function(e){ if(e.target === this) closeModal(); }, { passive:true });

  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape' && isModalOpen){ closeModal(); }
  });
});
</script>
